<script>
    function refreshPage(){
        window.location.reload();
    }
</script>

<head>
    <div class="uk-tile uk-tile-secondary" ng-controller="RegistrationController">
        <p class="uk-h4">Account Settings</p>
    </div>

<style>
    #uploader {
	   -webkit-appearance: none;
        appearance:none;
        width: 100%;
        margin-bottom: 10px;
}
    .label{
        float: left;
    }
    .block{
        display:inline;
        
    }
    </style>
</head>
<body>

<div class="uk-section">
    <div class="uk-container">

        <div class="uk-flex uk-flex-center uk-text-center" uk-grid>
            <div class="uk-card uk-card-body uk-card-secondary uk-width-1-2">
                <div class="uk-text-center">
                    <div class="uk-inline-clip uk-transition-toggle uk-light">
                        <object data="url" type="image">
                            <img class="uk-border-circle"
                                 src="https://www.soundstream.tv/assets/default_profile-e08597880fc222202f22984a4f1966a29b108e856a3fb935072bfbbc302a4b73.png"
                                 width="150" height="150" alt="Profile Picture" />
                        </object>
                        <div class="uk-position-center">
                            <span class="uk-transition-fade" uk-tooltip title="Edit Profile" uk-toggle="target: #edit-profile" uk-icon="icon: pencil; ratio: 2"></span>
                        </div>
                    </div>
                </div>



                <h3 class="uk-card-title">{{user.firstname}} {{user.lastname}}</h3>
                <h4>{{user.email}}</h4>


                <div id="edit-profile" uk-offcanvas="mode: push; overlay: true">
                    <div class="uk-offcanvas-bar">

                        <br>
                        <br>


                        Profile Picture:
                        <div class="test-upload uk-width-1-1 uk-margin"  uk-form-custom>
                            <input type="file" value="upload" id="fileButton">
                            <button class="uk-button uk-button-default uk-width-1-1" type="button" tabindex="-1">Select Picture</button>
                        </div>


                        <form ng-submit="updatePicture()" name="myform" novalidate>
                            <button type="submit" class="uk-button uk-button-secondary uk-width-1-1 uk-offcanvas-close" onClick="refreshPage()" >Update Picture</button>
                            <progress value="0" max="100" id="uploader">0%</progress>
                        </form>

                        <form name="myform" ng-submit="updateInfo()" novalidate>

                            Personal Information:
                            <br>
                            <div class="uk-margin">
                                <input class="uk-input" type="text" name="firstname" placeholder="First Name"
                                       ng-model="firstname" ng-required="true">

                                <input class="uk-input" type="text" name="lastname" placeholder="Last Name"
                                       ng-model="lastname" ng-required="true">

                                <input class="uk-input" type="text" name="age" placeholder="Age"
                                       ng-model="age" ng-required="true">
                            </div>

                            Occupational Information:
                            <div class="uk-margin">
                                <select class="uk-select" name="occupation" ng-required="true" ng-model="occupation">
                                    <option name="occupation" value="Technology">Technology</option>
                                    <option name="occupation" value="Health">Health</option>
                                    <option name="occupation" value="Academia">Academia</option>
                                    <option name="occupation" value="Government">Government</option>
                                    <option name="occupation" value="Services">Services</option>
                                    <option name="occupation" value="Entrepreneur">Entrepreneur</option>
                                </select>
                            </div>
                            <div class="uk-margin">
                                Gender:
                                <input type="radio" name="gender" value="Male" ng-model="gender" ng-required="true"> Male
                                <input type="radio" name="gender" value="Female" ng-model="gender" ng-required="true"> Female
                            </div>

                            <br>
                            <button type="submit" class="uk-button uk-button-secondary uk-width-1-1" >Update profile</button> <br>
                        </form>

                        <button class="uk-button uk-button-default uk-offcanvas-close uk-width-1-1 uk-margin" type="button">Close</button>

                    </div>
                </div>


      <span class="as-word">occpuation: {{ user.occupation }}</span>
       <span class="as-word">age: {{ user.age }}</span>

    <form name="myform1" ng-submit="updatePassword()" novalidate>
        <p class = "label">Password:</p><input type="text" name="password"
			  placeholder="password"
			  ng-model="password" ng-required="true">
        <button type="submit" class="btn btn-block" >Update Password</button>
     </form>
       <form ng-submit="linkToFacebook()" name="myform" novalidate>     
     	<button type="submit"  class="btn btn-block" >Link to Facebook</button>
     </form>
     <form ng-submit="unLinkToFacebook()" name="myform" novalidate>
     	<button type="submit"  class="btn btn-block" >UnLink to Facebook</button>
     </form>
            </div>
        </div>
    </div>
</div>